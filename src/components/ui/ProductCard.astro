---
import type { CollectionEntry } from 'astro:content';

interface Props {
  producto: CollectionEntry<'productos'>;
}

const { producto } = Astro.props;
const { nombre, imagen, destacado } = producto.data;
---

<a 
  href={`/productos/${producto.slug}`} 
  class="group relative block w-full h-125 bg-gray-100 rounded-4xl overflow-hidden shadow-lg hover:shadow-2xl hover:shadow-brand-green/20 transition-all duration-500"
>
  
  <div class="absolute inset-0 w-full h-full">
    <img 
      src={imagen} 
      alt={nombre} 
      class="w-full h-full object-cover transform transition-transform duration-700 ease-in-out group-hover:scale-110"
      loading="lazy"
    />
  </div>

  <div class="absolute inset-0 bg-linear-to-t from-black/90 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10"></div>

  <div class="absolute inset-0 flex flex-col justify-end p-8 z-20">
    <div class="transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500">
      
      <h3 class="text-3xl font-black text-white uppercase italic drop-shadow-md mb-2 leading-none">
        {nombre}
      </h3>
      
      <div class="w-12 h-1 bg-brand-sun mb-4 transition-all duration-500 group-hover:w-full"></div>

      <span class="inline-flex items-center justify-center gap-2 bg-brand-sun text-brand-dark font-black py-3 px-6 rounded-full w-full text-center opacity-0 group-hover:opacity-100 translate-y-4 group-hover:translate-y-0 transition-all duration-500 delay-100 shadow-lg uppercase tracking-wide text-sm">
        Ver Ficha Técnica
      </span>
    </div>
  </div>

  <div class="absolute top-5 right-5 z-20 flex flex-col gap-2 items-end">
    <span class="bg-brand-green/90 backdrop-blur-sm text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg border border-white/20">
      100% ORGÁNICO
    </span>
    {destacado && (
      <span class="bg-brand-sun text-brand-dark text-xs font-bold px-3 py-1 rounded-full shadow-lg uppercase tracking-widest">
        Top Ventas
      </span>
    )}
  </div>

</a>